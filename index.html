<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Anniversary Love Rain</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    html, body {
      min-height: 100vh;
      width: 100%;
      overflow: hidden;
    }

    body {
      background: linear-gradient(135deg, #000000 0%, #1a0033 50%, #000000 100%);
      font-family: 'Pacifico', cursive;
      position: relative;
      perspective: 1000px;
    }

    .falling-container {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      transform-style: preserve-3d;
    }

    .falling-text {
      position: absolute;
      color: #ff69b4;
      font-weight: bold;
      white-space: nowrap;
      animation: fall linear forwards;
      will-change: transform, opacity;
      text-shadow: 0 0 8px currentColor;
      opacity: 0.9;
      font-size: calc(0.8em + 0.5vw);
      max-width: 80vw;
      overflow-wrap: break-word;
    }

    .falling-text:nth-child(2n) { color: #ff1493; }
    .falling-text:nth-child(3n) { color: #ffc0cb; }
    .falling-text:nth-child(4n) { color: #da70d6; }

    @keyframes fall {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(110vh) rotate(5deg); opacity: 0; }
    }

    .heart {
      position: absolute;
      color: #ff4500;
      font-size: calc(1.2em + 0.5vw);
      animation: heartFloat linear forwards;
      will-change: transform, opacity;
      text-shadow: 0 0 12px #ff4500;
    }

    @keyframes heartFloat {
      0% { transform: translateY(100vh) scale(0.5) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100px) scale(1.2) rotate(360deg); opacity: 0; }
    }

    .controls {
      position: fixed;
      top: 20px; left: 20px;
      color: #ff69b4;
      font-size: 1em;
      z-index: 100;
      text-shadow: 0 0 5px #ff69b4;
      font-family: Arial, sans-serif;
      padding: 0.5em;
      max-width: 90%;
      word-break: break-word;
    }

    .tap-area {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #ff69b4;
      font-size: 1.1em;
      text-align: center;
      animation: pulse 2s infinite;
      z-index: 100;
      cursor: pointer;
      font-family: Arial, sans-serif;
      padding: 0.5em 1em;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.7; transform: translateX(-50%) scale(1); }
      50% { opacity: 1; transform: translateX(-50%) scale(1.05); }
    }

    @media (max-width: 768px) {
      .falling-text {
        font-size: 4vw;
      }

      .heart {
        font-size: 5vw;
      }

      .controls, .tap-area {
        font-size: 3.5vw;
        text-align: center;
      }
    }

    /* ·∫®n tr√¨nh ph√°t nh·∫°c YouTube */
    .youtube-player {
      width: 0;
      height: 0;
      position: absolute; /* ƒê·ªÉ kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn b·ªë c·ª•c */
      left: -9999px; /* ƒê·∫∑t ra ngo√†i m√†n h√¨nh */
    }
  </style>
</head>
<body>
  <div class="falling-container" id="container"></div>

  <div class="controls">
    üì± Touch ƒë·ªÉ t·∫°o th√™m text<br>
    üíï Tu·∫•n ‚ù§Ô∏è Tu·∫•n Anniversary
  </div>

  <div class="tap-area" onclick="createBurst()">‚ú® TAP HERE FOR MORE LOVE ‚ú®</div>

  <audio id="bgm" preload="auto" loop>
    <source src="Music/DungLamTraiTimAnhDau.mp3" type="audio/mpeg">
  </audio>

 <!-- <iframe src="https://www.nhaccuatui.com/mh/background/ohjpZEluVLBb" width="1" height="1" frameborder="0" allowfullscreen allow="autoplay"></iframe>
   -->
  
  <script>
    const messages = [
      "1 Year Anniversary", "Love u in every universe",
      "Always by my side", "Nguy·ªÖn Thanh Tu·∫•n ‚ù§Ô∏è Nguy·ªÖn Thanh Tu·∫•n",
      "Forever & Always", "My Heart ‚ù§Ô∏è",
      "Together Forever", "Love You Baby",
      "Y√™u em m√£i m√£i", "M√£i b√™n nhau", "My Love, My Destiny", "Ich liebe dich ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è"
    ];

    const container = document.getElementById('container');
    const MAX_ELEMENTS = 400;
    const bgm = document.getElementById("bgm");
    let musicStarted = false;

    function getRandomMessage() {
      return messages[Math.floor(Math.random() * messages.length)];
    }

    function createFallingText() {
      if (container.childNodes.length > MAX_ELEMENTS) return;
      const text = document.createElement('div');
      text.className = 'falling-text';
      text.textContent = getRandomMessage();
      text.style.left = Math.random() * (window.innerWidth - 150) + 'px';
      text.style.top = '-100px';

      const duration = 6 + Math.random() * 3;
      text.style.animationDuration = duration + 's';
      text.style.animationDelay = Math.random() * 1.5 + 's';
      text.style.transform = `rotate(${(Math.random() - 0.5) * 10}deg)`;

      container.appendChild(text);
      setTimeout(() => text.remove(), (duration + 2) * 1000);
    }

    function createHeart() {
      if (container.childNodes.length > MAX_ELEMENTS) return;
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.innerHTML = '‚ù§Ô∏è';
      heart.style.left = Math.random() * (window.innerWidth - 50) + 'px';
      heart.style.bottom = '-50px';

      const duration = 5 + Math.random() * 2;
      heart.style.animationDuration = duration + 's';
      heart.style.animationDelay = Math.random() * 2 + 's';

      container.appendChild(heart);
      setTimeout(() => heart.remove(), (duration + 3) * 1000);
    }

    function createBurst() {
      for (let i = 0; i < 5; i++) {
        setTimeout(() => createFallingText(), i * 100);
      }
      for (let i = 0; i < 3; i++) {
        setTimeout(() => createHeart(), i * 250);
      }
    }

    function startAnimation() {
      setInterval(() => createFallingText(), 150);
      setInterval(() => createHeart(), 1000);
      setTimeout(() => createBurst(), 500);
    }

    function playMusicOnce() {
      if (!musicStarted) {
        bgm.play().catch(() => {});
        musicStarted = true;
      }
    }

    document.addEventListener('click', (e) => {
      playMusicOnce();
      if (!e.target.classList.contains('tap-area')) {
        createFallingText();
        if (Math.random() > 0.7) createHeart();
      }
    });

    document.addEventListener('touchstart', () => {
      playMusicOnce();
      createBurst();
    });

    document.addEventListener('keydown', (e) => {
      playMusicOnce();
      if (e.code === 'Space') {
        e.preventDefault();
        createBurst();
      }
    });

    document.addEventListener('mousemove', (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 40;
      const y = (e.clientY / window.innerHeight - 0.5) * 20;
      container.style.transform = `rotateY(${x}deg) rotateX(${-y}deg)`;
    });

    startAnimation();
  </script>
</body>
</html>
